name: "Password Reset Tests"
description: "Test password reset request and confirmation flows"
scenarios:
  - id: "password_reset_request"
    name: "Request Password Reset"
    description: "Initiate password reset for user account"
    method: "POST"
    endpoint: "/api/v1/auth/password/reset-request"
    request:
      email: "user@example.com"
      redirect_url: "https://app.example.com/reset"
    expected_response:
      status: 200
      fields:
        - name: "message"
          type: "string"
          required: true
    sdk_method: "RequestPasswordReset"

  - id: "password_reset_confirm"
    name: "Confirm Password Reset"
    description: "Complete password reset with token and new password"
    method: "POST"
    endpoint: "/api/v1/auth/password/reset-confirm"
    request:
      token: "reset-token-123"
      password: "NewPassword123!"
    expected_response:
      status: 200
      fields:
        - name: "message"
          type: "string"
          required: true
    sdk_method: "ConfirmPasswordReset"

  - id: "password_reset_invalid_token"
    name: "Reset with Invalid Token"
    description: "Validate error handling for expired/invalid reset token"
    method: "POST"
    endpoint: "/api/v1/auth/password/reset-confirm"
    request:
      token: "invalid-token"
      password: "NewPassword123!"
    expected_response:
      status: 400
      fields:
        - name: "error"
          type: "string"
          required: true
    sdk_method: "ConfirmPasswordReset"
    expected_error: true
