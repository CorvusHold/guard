name: "Admin User Management Tests"
description: "Test user management and administrative operations"
scenarios:
  - id: "admin_list_users"
    name: "List All Users"
    description: "Retrieve list of all users in tenant"
    method: "GET"
    endpoint: "/api/v1/auth/admin/users?tenant_id=tenant-1"
    headers:
      authorization: "Bearer {access_token}"
    expected_response:
      status: 200
      fields:
        - name: "users"
          type: "array"
          required: true
          items:
            - name: "id"
              type: "string"
              required: true
            - name: "email"
              type: "string"
              required: true
            - name: "first_name"
              type: "string"
            - name: "last_name"
              type: "string"
    sdk_method: "ListUsers"

  - id: "admin_get_user"
    name: "Get User by ID"
    description: "Retrieve detailed user information"
    method: "GET"
    endpoint: "/api/v1/auth/admin/users/{user_id}"
    headers:
      authorization: "Bearer {access_token}"
    expected_response:
      status: 200
      fields:
        - name: "id"
          type: "string"
          required: true
        - name: "email"
          type: "string"
          required: true
        - name: "first_name"
          type: "string"
        - name: "last_name"
          type: "string"
        - name: "created_at"
          type: "string"
    sdk_method: "GetUser"

  - id: "admin_update_user"
    name: "Update User Information"
    description: "Update user's name and profile information"
    method: "PATCH"
    endpoint: "/api/v1/auth/admin/users/{user_id}"
    headers:
      authorization: "Bearer {access_token}"
    request:
      first_name: "John"
      last_name: "Smith"
    expected_response:
      status: 200
      fields:
        - name: "id"
          type: "string"
          required: true
        - name: "email"
          type: "string"
        - name: "first_name"
          type: "string"
        - name: "last_name"
          type: "string"
    sdk_method: "UpdateUser"

  - id: "admin_block_user"
    name: "Block User Account"
    description: "Block user from logging in"
    method: "POST"
    endpoint: "/api/v1/auth/admin/users/{user_id}/block"
    headers:
      authorization: "Bearer {access_token}"
    expected_response:
      status: 200
      fields:
        - name: "id"
          type: "string"
          required: true
        - name: "blocked"
          type: "boolean"
          required: true
    sdk_method: "BlockUser"

  - id: "admin_unblock_user"
    name: "Unblock User Account"
    description: "Re-enable user to log in"
    method: "POST"
    endpoint: "/api/v1/auth/admin/users/{user_id}/unblock"
    headers:
      authorization: "Bearer {access_token}"
    expected_response:
      status: 200
      fields:
        - name: "id"
          type: "string"
          required: true
        - name: "blocked"
          type: "boolean"
          required: true
    sdk_method: "UnblockUser"

  - id: "admin_search_users_by_email"
    name: "Search Users by Email"
    description: "Find users by email address pattern"
    method: "GET"
    endpoint: "/api/v1/auth/admin/users/search?email=john@example.com&tenant_id=tenant-1"
    headers:
      authorization: "Bearer {access_token}"
    expected_response:
      status: 200
      fields:
        - name: "users"
          type: "array"
          required: true
    sdk_method: "SearchUsersByEmail"
